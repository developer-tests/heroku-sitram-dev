jQuery(function(n){({init:function(){this.insert_generate_code_button(),n(".button.generate-gift-card-code").on("click",this.generate_gift_card_code)},insert_generate_code_button:function(){n(".post-type-gift_card").find("#title").after('<a href="#" class="button generate-gift-card-code">'+yith_wcgc_admin_meta_boxes_gift_card.generate_button_text+"</a>")},generate_gift_card_code:function(t){t.preventDefault();var e=n("#title"),i=n("#title-prompt-text");n.ajax({type:"POST",url:ajaxurl,data:{action:"generate_gift_card_code"},beforeSend:function(){e.attr("disabled",!0)},success:function(t){!0===t.success&&(e.trigger("focus").val(t.data).attr("disabled",!1),i.addClass("screen-reader-text"))}})}}).init(),"undefined"!=typeof adminpage&&0<=["post-php","post-new-php"].indexOf(adminpage)&&(e={dom:{actions:n("#yith-wcgc-post-type__actions"),save:n("#yith-wcgc-post-type__save"),floatSave:n("#yith-wcgc-post-type__float-save")},init:function(){var t=e;t.dom.save.length&&(t.dom.save.on("click",t.onSaveClick),t.dom.floatSave.on("click",t.onFloatSaveClick),document.addEventListener("scroll",t.handleFloatSaveVisibility,{passive:!0}),n(window).on("resize",t.handleFloatSaveVisibility),t.handleFloatSaveVisibility())},isInViewport:function(t){var t=t.get(0).getBoundingClientRect(),e=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;return 0<=t.top&&0<=t.left&&t.top<=i&&t.left<=e},handleFloatSaveVisibility:function(){e.isInViewport(e.dom.save)?e.dom.floatSave.removeClass("visible"):e.dom.floatSave.addClass("visible")},onSaveClick:function(){n(window).off("beforeunload.edit-post"),n(this).block({message:null,overlayCSS:{background:"transparent",opacity:.6}})},onFloatSaveClick:function(){e.dom.save.trigger("click")}}).init();var e,t=n(".yith-plugin-ui--gift_card-post_type input#title");t.prop("required",!0),t.on("invalid",function(t){n(this).css("border-color","red")}),t.on("change",function(t){n(this).css("border-color","unset")})});