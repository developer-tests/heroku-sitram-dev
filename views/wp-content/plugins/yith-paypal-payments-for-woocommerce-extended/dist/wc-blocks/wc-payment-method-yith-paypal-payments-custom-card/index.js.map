{"version":3,"file":"./wc-blocks/wc-payment-method-yith-paypal-payments-custom-card/index.js","mappings":"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","sources":["webpack://yith-paypal-payments-for-woocommerce-extended/./includes/builders/wc-blocks/assets/js/extensions/payment-methods/base/common.js","webpack://yith-paypal-payments-for-woocommerce-extended/./includes/builders/wc-blocks/assets/js/extensions/payment-methods/yith-paypal-payments-custom-card/components/PPCC.js","webpack://yith-paypal-payments-for-woocommerce-extended/./includes/builders/wc-blocks/assets/js/extensions/payment-methods/yith-paypal-payments-custom-card/components/PPCCFields.js","webpack://yith-paypal-payments-for-woocommerce-extended/./includes/builders/wc-blocks/assets/js/extensions/payment-methods/yith-paypal-payments-custom-card/constants.js","webpack://yith-paypal-payments-for-woocommerce-extended/./includes/builders/wc-blocks/assets/js/extensions/payment-methods/yith-paypal-payments-custom-card/useSDK.js","webpack://yith-paypal-payments-for-woocommerce-extended/external this {\"this\":[\"wc\",\"wcSettings\"]}","webpack://yith-paypal-payments-for-woocommerce-extended/external window \"React\"","webpack://yith-paypal-payments-for-woocommerce-extended/external window [\"wp\",\"element\"]","webpack://yith-paypal-payments-for-woocommerce-extended/external window [\"wp\",\"htmlEntities\"]","webpack://yith-paypal-payments-for-woocommerce-extended/webpack/bootstrap","webpack://yith-paypal-payments-for-woocommerce-extended/webpack/runtime/compat get default export","webpack://yith-paypal-payments-for-woocommerce-extended/webpack/runtime/define property getters","webpack://yith-paypal-payments-for-woocommerce-extended/webpack/runtime/hasOwnProperty shorthand","webpack://yith-paypal-payments-for-woocommerce-extended/webpack/runtime/make namespace object","webpack://yith-paypal-payments-for-woocommerce-extended/./includes/builders/wc-blocks/assets/js/extensions/payment-methods/yith-paypal-payments-custom-card/index.js"],"sourcesContent":["export function formatRequestBody(body, nonce) {\n  var formatted = [];\n\n  // add security nonce\n  body.push(\n      {name: 'security', value: nonce},\n      {name: 'flow', value: 'checkout'},\n  );\n\n  jQuery.each(body, function(index, item) {\n    formatted.push(item.name + '=' + item.value);\n  });\n\n  return formatted.join('&');\n}\n","import {useEffect, useState} from '@wordpress/element';\nimport PPCCFields from './PPCCFields';\n\nimport useSDK from '../useSDK';\n\nconst PPCC= ( props ) =>{\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [cardFieldInstance, setCardFieldInstance] = useState(false);\n  const {components: {LoadingMask}, description, activePaymentMethod, emitResponse, eventRegistration} = props;\n  const {onPaymentSetup} = eventRegistration;\n  const {threedsecure}  = yith_ppwc_card_settings;\n  const sdk = useSDK(props);\n  const {loadSDK} = sdk;\n\n\n  useEffect(() => {\n    let cardFieldsIn;\n\n    function start() {\n      try {\n        const {cardFields, orderID} = loadSDK();\n        cardFieldsIn = cardFields;\n        setCardFieldInstance(cardFieldsIn);\n\n        setIsLoaded(true);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    start();\n    return () => {\n      setIsLoaded(false);\n      setCardFieldInstance(false);\n      cardFieldsIn && typeof cardFieldsIn.onChange !== \"undefined\" && cardFieldsIn?.teardown();\n    };\n  }, [loadSDK]);\n\n  useEffect(() => {\n    if ('yith_paypal_payments_custom_card' !== activePaymentMethod) {\n      return;\n    }\n\n    const unsubscribe = onPaymentSetup(async () => {\n\n      if (!cardFieldInstance) {\n        return {\n          type: emitResponse.responseTypes.ERROR,\n          messageContext: emitResponse.noticeContexts.PAYMENTS,\n          message: yith_ppwc_frontend.errorMessage,\n        };\n      }\n      try {\n        const paymentMethodData = {};\n        let error = false;\n        await cardFieldInstance.submit()\n        .then(() => {\n          const orderIDInput = document.querySelector('#yith_paypal_cc_payments-order-id');\n          paymentMethodData['yith_paypal_cc_payments-order-id'] = jQuery(orderIDInput).val();\n        }).catch( (err) => {\n          error = err;\n        })\n\n        if( error ){\n         return {\n           type: emitResponse.responseTypes.ERROR,\n           messageContext: emitResponse.noticeContexts.PAYMENTS,\n           message:  error.message,\n         }\n        }else{\n          return {\n            type: emitResponse.responseTypes.SUCCESS,\n            meta: {paymentMethodData},\n          };\n        }\n\n      } catch (error) {\n\n        return {\n          type: emitResponse.responseTypes.ERROR,\n          messageContext: emitResponse.noticeContexts.PAYMENTS,\n          message:  error,\n        };\n      }\n\n    });\n    return unsubscribe;\n  }, [\n    onPaymentSetup,\n    cardFieldInstance,\n    emitResponse.responseTypes.SUCCESS,\n    emitResponse.responseTypes.ERROR,\n    emitResponse.noticeContexts.PAYMENTS,\n  ]);\n\n  return (\n      <>\n        <div>{description}</div>\n        <LoadingMask isLoading={!isLoaded} showSpinner={true}>\n          <PPCCFields {...props} isLoaded={setIsLoaded}/>\n        </LoadingMask>\n      </>\n  );\n}\n\nexport default PPCC;","import {PAYMENT_METHOD_NAME} from '../constants';\n\nconst PPCCFields = ({isLoaded, components: {LoadingMask}}) => {\n  const {cardNumberLabel, expirationDateLabel, cvvLabel} = yith_ppwc_card_settings;\n  return <LoadingMask isLoading={!isLoaded} showSpinner={true}>\n    <div className={`wc-block-card-elements payment_method_${PAYMENT_METHOD_NAME}`}>\n\n      <div className=\"wc-block-gateway-container wc-card-number-element\">\n        <div\n            id=\"yith-ppwc-cc-card-number-block\"\n            className={`wc-block-yith-ppwc-field empty hosted-field`}\n        />\n        <label className=\"hosted-fields--label\" htmlFor=\"yith-ppwc-cc-card-number-block\">{cardNumberLabel}</label>\n        <div id=\"card-image\"></div>\n      </div>\n      <div className=\"wc-block-gateway-container wc-expiration-date-element\">\n        <div\n            id=\"yith-ppwc-cc-expiration-date-block\"\n            className={`wc-block-yith-ppwc-field empty hosted-field`}\n        />\n        <label className=\"hosted-fields--label\" htmlFor=\"yith-ppwc-cc-expiration-date-block\">{expirationDateLabel}</label>\n      </div>\n\n\n      <div className=\"wc-block-gateway-container wc-expiration-date-element\">\n        <div\n            id=\"yith-ppwc-cc-cvv-block\"\n            className={`wc-block-yith-ppwc-field empty hosted-field`}\n        />\n        <label className=\"hosted-fields--label\" htmlFor=\"yith-ppwc-cc-cvv-block\">{cvvLabel}</label>\n      </div>\n      <input type='hidden' value=\"\" id=\"yith_paypal_cc_payments-order-id\"/>\n    </div>\n  </LoadingMask>;\n};\n\nexport default PPCCFields;","export const PAYMENT_METHOD_NAME = 'yith_paypal_payments_custom_card';","import {useState, useCallback, useMemo} from '@wordpress/element';\nimport {formatRequestBody} from '../base/common';\n\nconst useSDK = ({billing, shippingData, eventRegistration}) => {\n  const {ajaxUrl, liabilityList, threedsecure, ajaxNonce} = yith_ppwc_card_settings;\n  const [cardFieldsInstance, setCardFieldsInstance] = useState('');\n  const {onSubmit} = eventRegistration;\n\n  const loadSDK = useCallback(\n      () => {\n        let orderID = '';\n        const cardFields = paypal.CardFields({\n          style: {\n            'input': {\n              'font-size': '15px',\n              'font-weight': 'lighter',\n              'color': '#ccc',\n              'padding':'2.5em 1em 1em'\n            },\n            ':focus': {\n              'color': 'black',\n            },\n            '.valid': {\n              'color': 'black',\n            },\n            '.invalid': {\n              'color': 'black',\n            },\n          },\n          createOrder: (data, actions) => {\n            return fetch(ajaxUrl, {\n              method: 'POST',\n              headers: {\n                'content-type': 'application/x-www-form-urlencoded',\n              },\n              body: formatRequestBody([\n                {name: 'request', value: 'create_order'},\n                {name: 'checkoutRequest', value: 'checkout'},\n                {name: 'orderID', value: ''},\n              ], ajaxNonce),\n            }).then(function(res) {\n              return res.json();\n            }).then(function(data) {\n\n              if( data.error ){\n                console.log('undefined', data.error);\n                throw data.error;\n              }\n              const orderIDInput = document.querySelector('#yith_paypal_cc_payments-order-id');\n              orderIDInput.value = data.id;\n              return data.id; // Use the same key name for order ID on the client and server\n            });\n          },\n          onApprove: (data, actions) => {\n\n            if (data && data.orderID) {\n              if (threedsecure) {\n                let {liabilityShift} = data;\n\n                if ( typeof liabilityShift !== 'undefined') {\n                  liabilityShift = liabilityShift.toLowerCase();\n                  if (liabilityList.indexOf(liabilityShift) === -1) {\n                    if (liabilityShift === 'unknown') {\n                      throw yith_ppwc_frontend.secure_3d_unknown;\n                    } else if (liabilityShift === 'no') {\n                      throw yith_ppwc_frontend.secure_3d_no;\n                    }\n                  }\n                }\n              }\n\n              fetch(ajaxUrl, {\n                method: 'POST',\n                headers: {\n                  'content-type': 'application/x-www-form-urlencoded',\n                },\n                body: formatRequestBody([\n                  {name: 'request', value: 'approve_order'},\n                  {name: 'orderID', value: data.orderID},\n                  {name: 'checkoutRequest', value: 'checkout'},\n                ]),\n              }).then(function(res) {\n                return res.json();\n              }).then(function(json) {\n                if (json) {\n                  if (json.redirect) {\n                    window.location.href = json.redirect;\n                  } else if (json.result && 'failure' === json.result) {\n                    window.location.reload();\n                  }\n                }\n                typeof onSubmit !== 'undefined' && onSubmit();\n              }).catch((err) => {\n                throw err;\n              });\n            }\n          },\n          /*onError: function(error) {\n            // Do something with the error from the SDK\n            console.log('error');\n            console.log(error);\n            throw error;\n          },*/\n        });\n\n        // Render each field after checking for eligibility\n        if (cardFields.isEligible()) {\n\n          const numberField = cardFields.NumberField();\n          numberField.render('#yith-ppwc-cc-card-number-block');\n\n          const cvvField = cardFields.CVVField();\n          cvvField.render('#yith-ppwc-cc-cvv-block');\n\n          const expiryField = cardFields.ExpiryField();\n          expiryField.render('#yith-ppwc-cc-expiration-date-block');\n\n        }\n\n        setCardFieldsInstance(cardFields);\n\n        return {\n          cardFields,\n        };\n      }, []);\n\n  return {\n    cardFieldsInstance,\n    loadSDK,\n  };\n};\n\nexport default useSDK;","module.exports = (function() { return this[\"wc\"][\"wcSettings\"]; }());","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {decodeEntities} from '@wordpress/html-entities';\nimport {getPaymentMethodData} from '@woocommerce/settings';\n\nimport {PAYMENT_METHOD_NAME} from './constants';\nimport PPCC from './components/PPCC';\n\nconst {registerPaymentMethod} = wc.wcBlocksRegistry;\n\nconst settings = getPaymentMethodData(PAYMENT_METHOD_NAME, {});\nconst label = decodeEntities(settings.title);\nconst description = decodeEntities(settings.description);\n\nconst Label = (props) => {\n  const {PaymentMethodLabel} = props.components;\n  return <><PaymentMethodLabel text={label}/><span style={{marginLeft: '5px'}}></span></>;\n};\n\nconst PPCCWrapper = (props) => {\n  const {isEditing} = props;\n  if (isEditing) {\n    return null;\n  }\n\n  return (\n      <PPCC description={description} {...props} />\n  );\n};\n\nconst args = {\n  name: PAYMENT_METHOD_NAME,\n  label: <Label/>,\n  content: <PPCCWrapper/>,\n  edit: <PPCCWrapper/>,\n  canMakePayment: () => true,\n  ariaLabel: label,\n  supports: {\n    features: settings?.supports ?? [],\n  },\n};\n\nregisterPaymentMethod(args);"],"names":["formatRequestBody","body","nonce","formatted","push","name","value","jQuery","each","index","item","join","useEffect","useState","PPCCFields","useSDK","PPCC","props","isLoaded","setIsLoaded","cardFieldInstance","setCardFieldInstance","components","LoadingMask","description","activePaymentMethod","emitResponse","eventRegistration","onPaymentSetup","threedsecure","yith_ppwc_card_settings","sdk","loadSDK","cardFieldsIn","start","cardFields","orderID","error","console","log","onChange","teardown","unsubscribe","type","responseTypes","ERROR","messageContext","noticeContexts","PAYMENTS","message","yith_ppwc_frontend","errorMessage","paymentMethodData","submit","then","orderIDInput","document","querySelector","val","catch","err","SUCCESS","meta","createElement","Fragment","isLoading","showSpinner","PAYMENT_METHOD_NAME","cardNumberLabel","expirationDateLabel","cvvLabel","className","id","htmlFor","useCallback","useMemo","billing","shippingData","ajaxUrl","liabilityList","ajaxNonce","cardFieldsInstance","setCardFieldsInstance","onSubmit","paypal","CardFields","style","createOrder","data","actions","fetch","method","headers","res","json","onApprove","liabilityShift","toLowerCase","indexOf","secure_3d_unknown","secure_3d_no","redirect","window","location","href","result","reload","isEligible","numberField","NumberField","render","cvvField","CVVField","expiryField","ExpiryField","decodeEntities","getPaymentMethodData","registerPaymentMethod","wc","wcBlocksRegistry","settings","label","title","Label","PaymentMethodLabel","text","marginLeft","PPCCWrapper","isEditing","args","content","edit","canMakePayment","ariaLabel","supports","features","_settings$supports"],"sourceRoot":""}